# Branding Configuration Guide

## Overview

All branding-related strings (application name, binary name, config directory, URLs) are centralized in `src/branding.rs`. This makes future rebranding trivial—just edit one file!

## File: `src/branding.rs`

### Constants You Can Change

```rust
/// The human-readable display name
pub const APP_DISPLAY_NAME: &str = "LazyQMK";

/// The binary/executable name (lowercase, no spaces)
pub const APP_BINARY_NAME: &str = "lazyqmk";

/// Config/data directory name (used in ~/.config/{APP_DATA_DIR}/)
pub const APP_DATA_DIR: &str = "LazyQMK";

/// GitHub repository owner
pub const GITHUB_OWNER: &str = "Radialarray";

/// GitHub repository name
pub const GITHUB_REPO: &str = "LazyQMK";

/// Full GitHub URL
pub const GITHUB_URL: &str = "https://github.com/Radialarray/LazyQMK";

/// Short description
pub const APP_DESCRIPTION: &str = "Interactive terminal workspace for QMK firmware";
```

### Where These Are Used

#### `APP_DISPLAY_NAME`
- Window titles
- Help text and documentation
- About dialogs
- README header

#### `APP_BINARY_NAME`
- Cargo.toml package name
- Built executable name (`target/release/lazyqmk`)
- Command examples in docs
- Generated firmware file comments
- Installation instructions

#### `APP_DATA_DIR`
- Linux: `~/.config/{APP_DATA_DIR}/config.toml`
- macOS: `~/Library/Application Support/{APP_DATA_DIR}/config.toml`
- Windows: `%APPDATA%\{APP_DATA_DIR}\config.toml`
- Templates directory: `{APP_DATA_DIR}/templates/`
- Build output: `{APP_DATA_DIR}/builds/`

#### `GITHUB_OWNER` & `GITHUB_REPO`
- Installation commands
- Links in README
- Issue/bug report URLs

#### `GITHUB_URL`
- Clone instructions
- Release download URLs
- Documentation links

## How to Rebrand

### Example: Changing from "LazyQMK" to "KeyFlow"

1. **Edit `src/branding.rs`:**

```rust
pub const APP_DISPLAY_NAME: &str = "KeyFlow";
pub const APP_BINARY_NAME: &str = "keyflow";
pub const APP_DATA_DIR: &str = "KeyFlow";
pub const GITHUB_OWNER: &str = "YourOrganization";
pub const GITHUB_REPO: &str = "KeyFlow";
pub const GITHUB_URL: &str = "https://github.com/YourOrganization/KeyFlow";
pub const APP_DESCRIPTION: &str = "Your new description here";
```

2. **Update `Cargo.toml` package name:**

```toml
[package]
name = "keyflow"  # Must match APP_BINARY_NAME
```

3. **Rebuild:**

```bash
cargo clean
cargo build --release
```

4. **Done!** The binary is now `target/release/keyflow` and all code/docs reference "KeyFlow".

## Automated References

The following are **automatically updated** when you change the constants:

- ✅ Binary executable name
- ✅ Config file paths
- ✅ Generated firmware comments (e.g., `// Generated by keyflow`)
- ✅ Help text displayed in the app
- ✅ Window titles

## Manual Updates Still Needed

After changing `src/branding.rs`, you should also update:

- [ ] `README.md` - Main heading ASCII art logo
- [ ] `README.md` - Badge URLs (if they reference the repo)
- [ ] `QUICKSTART.md` - Any hardcoded examples
- [ ] `docs/` files - Narrative text mentioning the old name
- [ ] GitHub repository settings (if you own the repo)
  - Repository name
  - Description
  - Topics/tags

## Testing After Rebrand

Run these checks to ensure the rebrand worked:

```bash
# 1. Verify binary name
cargo build --release
ls target/release/  # Should see your new binary name

# 2. Verify app displays correct name
./target/release/{new-name} --version

# 3. Verify config path
# Start the app, it should create config at the new path

# 4. Run all tests
cargo test

# 5. Verify generated firmware comments
# Create a layout and generate firmware
# Check that keymap.c has "// Generated by {new-name}"
```

## Benefits of This Approach

### Single Source of Truth
All branding strings defined in **one file** (`src/branding.rs`)

### Type-Safe
Constants are compile-time checked—typos caught immediately

### DRY Principle
No duplication of strings across the codebase

### Easy Migration
Change 7 constants in 1 file, rebuild, done!

### Consistent
Impossible to have mismatched names (e.g., binary called "lazyqmk" but app title says "KeyboardConfigurator")

## Derived Functions

The branding module also provides helper functions:

```rust
// Get GitHub releases URL
branding::github_releases_url()  // → "https://github.com/Owner/Repo/releases"

// Get GitHub issues URL
branding::github_issues_url()   // → "https://github.com/Owner/Repo/issues"

// Get install command
branding::install_command()     // → "cargo install --git https://..."
```

These automatically update when you change `GITHUB_URL`.

## Implementation Details

### Module Structure

```
src/
├── branding.rs           # ← Single source of truth for all branding
├── constants.rs          # Re-exports from branding for backward compatibility
├── config.rs             # Uses branding::APP_DATA_DIR for paths
├── firmware/generator.rs # Uses branding::APP_BINARY_NAME in generated code
├── main.rs               # Uses branding::APP_DISPLAY_NAME in CLI
└── ...
```

### Re-export Pattern

`src/constants.rs` re-exports branding constants for backward compatibility:

```rust
pub use crate::branding::{
    APP_BINARY_NAME,
    APP_DISPLAY_NAME as APP_NAME,
    APP_DATA_DIR,
    // ...
};
```

This means existing code using `constants::APP_NAME` still works without changes.

## Future Enhancements

Ideas for making rebranding even easier:

- [ ] Script to automatically update README.md ASCII art
- [ ] Template system for documentation with placeholder substitution
- [ ] Build-time generation of documentation from constants
- [ ] Config file to override branding at runtime (for forks)

## Questions?

See the implementation in `src/branding.rs` or open an issue!
